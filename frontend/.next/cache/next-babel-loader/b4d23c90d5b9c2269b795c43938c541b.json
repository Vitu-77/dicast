{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\marce\\\\Programa\\xE7\\xE3o\\\\Projetos\\\\dicast\\\\frontend\\\\pages\\\\login.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext, useEffect } from 'react';\nimport Api from '../services/Api';\nimport UserContext from '../global/contexts/UserContext';\n\nvar Login = function Login() {\n  var _useContext = useContext(UserContext),\n      _setUser = _useContext._setUser;\n\n  var _useState = useState('Vitu_77sC'),\n      username = _useState[0],\n      setUsername = _useState[1];\n\n  var _useState2 = useState('12345'),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      persistLogged = _useState3[0],\n      setPersistLogged = _useState3[1];\n\n  var _useState4 = useState(0),\n      loginError = _useState4[0],\n      setLoginError = _useState4[1];\n\n  var _useState5 = useState(false),\n      loading = _useState5[0],\n      setLoading = _useState5[1];\n\n  useEffect(function () {\n    var isAuthenticated =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Api.isAuthenticated(setLoading, true);\n\n              case 2:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function isAuthenticated() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    isAuthenticated();\n  }, []);\n\n  var handleChange = function handleChange(event) {\n    var type = event.target.type;\n\n    switch (type) {\n      case 'text':\n        setUsername(event.target.value);\n        break;\n\n      case 'password':\n        setPassword(event.target.value);\n        break;\n\n      default:\n        console.log(event.target);\n        break;\n    }\n  };\n\n  var submit = function submit() {\n    return Api.authenticate(username, password, _setUser, setLoginError, persistLogged);\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, loading ? __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Loading...\") : __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"username\",\n    onChange: handleChange,\n    value: username,\n    onMouseOver: function onMouseOver() {\n      return console.log(persistLogged);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"password\",\n    onChange: handleChange,\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), \"Remember me\", __jsx(\"input\", {\n    type: \"checkbox\",\n    onChange: function onChange() {\n      return setPersistLogged(!persistLogged);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    onClick: submit,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Submit\"), loginError === 1 ? __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"AAAAA\") : loginError === 2 ? __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"NBBBBBB\") : null)));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/marce/Programação/Projetos/dicast/frontend/pages/login.js"],"names":["React","useState","useContext","useEffect","Api","UserContext","Login","_setUser","username","setUsername","password","setPassword","persistLogged","setPersistLogged","loginError","setLoginError","loading","setLoading","isAuthenticated","handleChange","event","type","target","value","console","log","submit","authenticate"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport Api from '../services/Api';\r\nimport UserContext from '../global/contexts/UserContext';\r\n\r\nconst Login = () => {\r\n\r\n    const { _setUser } = useContext(UserContext);\r\n\r\n    const [username, setUsername] = useState('Vitu_77sC');\r\n    const [password, setPassword] = useState('12345');\r\n    \r\n    const [persistLogged, setPersistLogged] = useState(false);\r\n    const [loginError, setLoginError] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const isAuthenticated = async () => await Api.isAuthenticated(setLoading, true);\r\n\r\n        isAuthenticated();\r\n    }, []);\r\n\r\n    const handleChange = (event) => {\r\n        const type = event.target.type;\r\n\r\n        switch (type) {\r\n            case 'text': setUsername(event.target.value);\r\n                break;\r\n            case 'password': setPassword(event.target.value);\r\n                break;\r\n            default: console.log(event.target);\r\n                break;\r\n        }\r\n    }\r\n\r\n    const submit = () => Api.authenticate(username, password, _setUser, setLoginError, persistLogged);\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            {\r\n                loading\r\n                    ? <h1>Loading...</h1>\r\n                    :\r\n                    <React.Fragment>\r\n                        <form>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='username'\r\n                                onChange={handleChange}\r\n                                value={username}\r\n                                onMouseOver={() => console.log(persistLogged)}\r\n                            />\r\n                            <input\r\n                                type='password'\r\n                                placeholder='password'\r\n                                onChange={handleChange}\r\n                                value={password}\r\n                            />\r\n                            Remember me\r\n                            <input\r\n                                type='checkbox'\r\n                                onChange={() => setPersistLogged(!persistLogged)}\r\n                            />\r\n                            <button onClick={submit} type='button'>Submit</button>\r\n                            {\r\n                                loginError === 1 ? <span>AAAAA</span> : (\r\n                                    loginError === 2 ? <span>NBBBBBB</span> : null\r\n                                )\r\n                            }\r\n                        </form>\r\n                    </React.Fragment>\r\n            }\r\n        </React.Fragment>\r\n\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}
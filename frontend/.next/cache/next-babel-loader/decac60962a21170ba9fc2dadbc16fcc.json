{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\marce\\\\Programa\\xE7\\xE3o\\\\Projetos\\\\dicast\\\\frontend\\\\pages\\\\login.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext, useEffect } from 'react';\nimport Api from '../services/Api';\nimport UserContext from '../global/contexts/UserContext';\nimport Head from 'next/head';\n\nvar Header = function Header() {\n  return __jsx(Head, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, __jsx(\"title\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, \"CCCCC\"), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"CCCCCCCCC\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    property: \"og:type\",\n    content: \"website\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"og:title\",\n    property: \"og:title\",\n    content: \"SSSSSS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"og:description\",\n    property: \"og:description\",\n    content: \"SSSSS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    property: \"og:site_name\",\n    content: \"SSS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    property: \"og:url\",\n    content: \"SSSS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:card\",\n    content: \"summary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:title\",\n    content: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:description\",\n    content: \"asxasxasx\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:site\",\n    content: \"asxasx\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:creator\",\n    content: \"xasxasx\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    property: \"og:image\",\n    content: \"xasxasx\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }), __jsx(\"meta\", {\n    name: \"twitter:image\",\n    content: \"xasxasxasx\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }));\n};\n\nvar Login = function Login() {\n  var _useContext = useContext(UserContext),\n      _setUser = _useContext._setUser,\n      showUser = _useContext.showUser;\n\n  var _useState = useState('Vitu_77sC'),\n      username = _useState[0],\n      setUsername = _useState[1];\n\n  var _useState2 = useState('12345'),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      authenticated = _useState3[0],\n      setAuthenticated = _useState3[1];\n\n  var _useState4 = useState(true),\n      loading = _useState4[0],\n      _setLoading = _useState4[1];\n\n  useEffect(function () {\n    var isAuthenticated =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var isAuthenticated;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Api.isAuthenticated();\n\n              case 2:\n                isAuthenticated = _context.sent;\n                _context.next = 5;\n                return isAuthenticated;\n\n              case 5:\n                _context.t0 = _context.sent;\n\n                if (!(_context.t0 === true)) {\n                  _context.next = 10;\n                  break;\n                }\n\n                setAuthenticated(true);\n                _context.next = 11;\n                break;\n\n              case 10:\n                setAuthenticated(false);\n\n              case 11:\n                setTimeout(function () {\n                  return _setLoading(false);\n                }, 700);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function isAuthenticated() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    isAuthenticated();\n  }, []);\n\n  var handleChange = function handleChange(event) {\n    var type = event.target.type;\n\n    switch (type) {\n      case 'text':\n        setUsername(event.target.value);\n        break;\n\n      case 'password':\n        setPassword(event.target.value);\n        break;\n\n      default:\n        console.log(event.target);\n        break;\n    }\n  };\n\n  var submit = function submit() {\n    return Api.authenticate(username, password, _setUser);\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), loading ? __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Loading...\") : __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"username\",\n    onChange: handleChange,\n    value: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"password\",\n    onChange: handleChange,\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    onClick: submit,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Submit\"), __jsx(\"button\", {\n    onClick: showUser,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Show user\"), authenticated ? __jsx(\"button\", {\n    onClick: showUser,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"SAIR\") : __jsx(\"button\", {\n    onClick: showUser,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"ENTRAR\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/marce/Programação/Projetos/dicast/frontend/pages/login.js"],"names":["React","useState","useContext","useEffect","Api","UserContext","Head","Header","Login","_setUser","showUser","username","setUsername","password","setPassword","authenticated","setAuthenticated","loading","_setLoading","isAuthenticated","setTimeout","handleChange","event","type","target","value","console","log","submit","authenticate"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport Api from '../services/Api';\r\nimport UserContext from '../global/contexts/UserContext';\r\nimport Head from 'next/head';\r\n\r\nconst Header = () => (\r\n    <Head>\r\n        <title>CCCCC</title>\r\n        <meta name=\"description\" content=\"CCCCCCCCC\" />\r\n        <meta property=\"og:type\" content=\"website\" />\r\n        <meta name=\"og:title\" property=\"og:title\" content=\"SSSSSS\" />\r\n        <meta name=\"og:description\" property=\"og:description\" content=\"SSSSS\" />\r\n        <meta property=\"og:site_name\" content=\"SSS\" />\r\n        <meta property=\"og:url\" content=\"SSSS\" />\r\n        <meta name=\"twitter:card\" content=\"summary\" />\r\n        <meta name=\"twitter:title\" content=\"\" />\r\n        <meta name=\"twitter:description\" content=\"asxasxasx\" />\r\n        <meta name=\"twitter:site\" content=\"asxasx\" />\r\n        <meta name=\"twitter:creator\" content=\"xasxasx\" />\r\n        <meta property=\"og:image\" content=\"xasxasx\" />\r\n        <meta name=\"twitter:image\" content=\"xasxasxasx\" />\r\n    </Head>\r\n);\r\n\r\nconst Login = () => {\r\n\r\n    const { _setUser, showUser } = useContext(UserContext);\r\n\r\n    const [username, setUsername] = useState('Vitu_77sC');\r\n    const [password, setPassword] = useState('12345');\r\n    const [authenticated, setAuthenticated] = useState(false);\r\n    const [loading, _setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const isAuthenticated = async () => {\r\n            const isAuthenticated = await Api.isAuthenticated();\r\n\r\n            await isAuthenticated === true ? setAuthenticated(true) : setAuthenticated(false);\r\n\r\n            setTimeout(() => _setLoading(false), 700);\r\n        }\r\n\r\n        isAuthenticated();\r\n    }, []);\r\n\r\n    const handleChange = (event) => {\r\n        const type = event.target.type;\r\n\r\n        switch (type) {\r\n            case 'text': setUsername(event.target.value);\r\n                break;\r\n            case 'password': setPassword(event.target.value);\r\n                break;\r\n            default: console.log(event.target);\r\n                break;\r\n        }\r\n    }\r\n\r\n    const submit = () => Api.authenticate(username, password, _setUser);\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Header />\r\n            {\r\n                loading\r\n                    ? <h1>Loading...</h1>\r\n                    :\r\n                    <React.Fragment>\r\n                        <form>\r\n                            <input\r\n                                type='text'\r\n                                placeholder='username'\r\n                                onChange={handleChange}\r\n                                value={username}\r\n                            />\r\n                            <input\r\n                                type='password'\r\n                                placeholder='password'\r\n                                onChange={handleChange}\r\n                                value={password}\r\n                            />\r\n                            <button onClick={submit} type='button'>Submit</button>\r\n                            <button onClick={showUser} type='button'>Show user</button>\r\n                            {\r\n                                authenticated\r\n                                    ? <button onClick={showUser} type='button'>SAIR</button>\r\n                                    : <button onClick={showUser} type='button'>ENTRAR</button>\r\n                            }\r\n                        </form>\r\n                    </React.Fragment>\r\n            }\r\n        </React.Fragment>\r\n\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}